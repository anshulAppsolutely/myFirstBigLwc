<template>
    <lightning-card title={topNewstitle}>
        <c-owlin-logo></c-owlin-logo>
        <template if:true={loading}>
            <lightning-spinner alternative-text="Loading" size="small"></lightning-spinner>
        </template>
        <template if:false={displayTopNews}>
            <div class="slds-text-color_error slds-m-around_medium">{label.Error_NoData}</div>
        </template>
        <template if:true={error}>
            <div class="slds-text-color_error slds-m-around_medium">{label.Error}</div>
        </template>
        <template if:true={displayTopNews}>
            <div class="lgc-bg">
                <ul class="slds-has-dividers_bottom-space">
                    <template for:each={topNewsServer} for:item="topNewsItem">
                            <li key={topNewsItem.key} class="slds-item">
                                <lightning-tile href="#" type="media">
                                    <c-account-title accounts-list={accounts} entity-id={topNewsItem.timeline} title-color={accountTitleColor}></c-account-title>
                                    <c-menu-buttons value={topNewsItem.props.url} onopenmodaltopnews= {openmodaltodisplay}></c-menu-buttons>
                                    <div class="slds-truncate">
                                        <span><a style={headerColorToDisplay} href={topNewsItem.props.url} target=_blank>{topNewsItem.props.header}</a></span>
                                    </div>
                                    <p class="slds-truncate" title="">
                                        <span>
                                            <!-- passing property to child-->
                                            <c-relative-date-time epoch-date={topNewsItem.props.epoch}></c-relative-date-time>
                                        </span> via <span>{topNewsItem.props.domain}</span>
                                    </p>
                                    <div class="owlin-dashboard-ui-topnews-item-article-keywords">
                                        <template for:each={topNewsItem.props.hits.all} for:item="tagList">
                                            <div key={tagList}  style={tagColorToDisplay} class="owlin-ui-label">{tagList}</div>
                                        </template>
                                    </div>
                                </lightning-tile>
                            </li>
                    </template>
                </ul>
            </div>
        </template>
    </lightning-card>
    <!-- pass as attributes on @api or pass from oclick -->
    <c-email-modal></c-email-modal>
</template>
